<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>Neno</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            color: #1e293b;
            line-height: 1.6;
            min-height: 100vh;
            position: relative;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 80%, rgba(59, 130, 246, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(139, 92, 246, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(6, 182, 212, 0.1) 0%, transparent 50%);
            z-index: -1;
        }

        .app-container {
            display: flex;
            min-height: 100vh;
            backdrop-filter: blur(5px);
        }

        .sidebar {
            width: 280px;
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(20px);
            border-right: 1px solid rgba(226, 232, 240, 0.8);
            padding: 24px 0;
            position: fixed;
            height: 100vh;
            overflow-y: auto;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);
        }

        .sidebar-header {
            padding: 0 24px 24px 24px;
            border-bottom: 1px solid rgba(226, 232, 240, 0.8);
            margin-bottom: 24px;
        }

        .logo {
            font-size: 24px;
            font-weight: 700;
            color: #1e40af;
            margin-bottom: 8px;
        }

        .sidebar-subtitle {
            color: #64748b;
            font-size: 14px;
        }

        .nav-section {
            margin-bottom: 32px;
        }

        .nav-section-title {
            font-size: 12px;
            font-weight: 600;
            color: #64748b;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            padding: 0 24px 12px 24px;
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 24px;
            color: #475569;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            cursor: pointer;
            border-left: 3px solid transparent;
            position: relative;
            overflow: hidden;
        }

        .nav-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, rgba(59, 130, 246, 0.05), rgba(59, 130, 246, 0.02));
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .nav-item:hover::before {
            opacity: 1;
        }

        .nav-item:hover {
            color: #1e293b;
            transform: translateX(4px);
        }

        .nav-item.active {
            background: rgba(239, 246, 255, 0.8);
            color: #1e40af;
            border-left-color: #1e40af;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }

        .nav-icon {
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            position: relative;
            z-index: 1;
        }

        .nav-icon svg {
            width: 18px;
            height: 18px;
            fill: currentColor;
        }

        .status-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 24px;
            color: #64748b;
            font-size: 13px;
            font-weight: 400;
        }

        .status-dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: #10b981;
            box-shadow: 0 0 8px rgba(16, 185, 129, 0.3);
        }

        .account-info {
            padding: 16px 24px;
            background: rgba(248, 250, 252, 0.8);
            border-top: 1px solid rgba(226, 232, 240, 0.8);
            margin-top: auto;
            backdrop-filter: blur(10px);
        }

        .account-name {
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 4px;
        }

        .account-email {
            font-size: 13px;
            color: #64748b;
        }

        .main-content {
            flex: 1;
            margin-left: 280px;
            padding: 32px;
            backdrop-filter: blur(5px);
        }

        .page-header {
            margin-bottom: 32px;
        }

        .page-title {
            font-size: 32px;
            font-weight: 700;
            color: #1e293b;
            margin-bottom: 8px;
        }

        .page-subtitle {
            color: #64748b;
            font-size: 16px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 24px;
            margin-bottom: 32px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(20px);
            border-radius: 16px;
            padding: 24px;
            border: 1px solid rgba(226, 232, 240, 0.8);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.12);
            border-color: rgba(59, 130, 246, 0.2);
        }

        .stat-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }

        .stat-label {
            color: #64748b;
            font-size: 14px;
            font-weight: 500;
        }

        .stat-value {
            font-size: 28px;
            font-weight: 700;
            color: #1e293b;
        }

        .stat-change {
            font-size: 14px;
            font-weight: 500;
        }

        .stat-change.positive {
            color: #059669;
        }

        .stat-change.negative {
            color: #dc2626;
        }

        .content-card {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(20px);
            border-radius: 16px;
            padding: 24px;
            border: 1px solid rgba(226, 232, 240, 0.8);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);
            margin-bottom: 24px;
            transition: all 0.3s ease;
        }

        .content-card:hover {
            border-color: rgba(59, 130, 246, 0.2);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.12);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .card-title {
            font-size: 18px;
            font-weight: 600;
            color: #1e293b;
        }

        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 8px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.5s ease;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn-primary {
            background: rgba(30, 64, 175, 0.9);
            color: white;
            border: 1px solid rgba(30, 64, 175, 0.3);
        }

        .btn-success {
            background: rgba(5, 150, 105, 0.9);
            color: white;
            border: 1px solid rgba(5, 150, 105, 0.3);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.8);
            color: #374151;
            border: 1px solid rgba(209, 213, 219, 0.8);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .transaction-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .transaction-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px;
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.6);
            border: 1px solid rgba(226, 232, 240, 0.8);
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .transaction-item:hover {
            background: rgba(255, 255, 255, 0.8);
            border-color: rgba(59, 130, 246, 0.2);
            transform: translateX(4px);
        }

        .transaction-info h4 {
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 4px;
        }

        .transaction-info p {
            color: #64748b;
            font-size: 14px;
        }

        .transaction-amount {
            font-weight: 600;
            font-size: 16px;
        }

        .transaction-amount.income {
            color: #059669;
        }

        .transaction-amount.expense {
            color: #dc2626;
        }

        .status-badge {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 500;
            backdrop-filter: blur(10px);
        }

        .status-categorized {
            background: rgba(219, 234, 254, 0.8);
            color: #1e40af;
            border: 1px solid rgba(59, 130, 246, 0.3);
        }

        .status-matched {
            background: rgba(209, 250, 229, 0.8);
            color: #059669;
            border: 1px solid rgba(16, 185, 129, 0.3);
        }

        .status-pending {
            background: rgba(254, 243, 199, 0.8);
            color: #d97706;
            border: 1px solid rgba(245, 158, 11, 0.3);
        }

        .category-tag {
            display: inline-block;
            padding: 2px 8px;
            background: rgba(224, 231, 255, 0.8);
            color: #3730a3;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 500;
            margin-left: 8px;
            border: 1px solid rgba(139, 92, 246, 0.3);
        }

        .connection-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 24px;
        }

        .connection-card {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(226, 232, 240, 0.8);
            border-radius: 16px;
            padding: 24px;
            transition: all 0.3s ease;
        }

        .connection-card:hover {
            border-color: rgba(59, 130, 246, 0.2);
            transform: translateY(-2px);
        }

        .connection-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }

        .connection-title {
            font-weight: 600;
            color: #1e293b;
        }

        .connection-status {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            backdrop-filter: blur(10px);
        }

        .status-connected {
            background: rgba(209, 250, 229, 0.8);
            color: #059669;
            border: 1px solid rgba(16, 185, 129, 0.3);
        }

        .api-input {
            width: 100%;
            padding: 12px;
            border: 1px solid rgba(209, 213, 219, 0.8);
            border-radius: 8px;
            font-size: 14px;
            margin-bottom: 12px;
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            color: #1e293b;
            transition: all 0.3s ease;
        }

        .api-input:focus {
            outline: none;
            border-color: rgba(59, 130, 246, 0.5);
            background: rgba(255, 255, 255, 0.9);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .api-input::placeholder {
            color: #9ca3af;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
        }

        .modal-content {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(30px);
            margin: 5% auto;
            padding: 32px;
            border-radius: 20px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(226, 232, 240, 0.8);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }

        .modal-title {
            font-size: 20px;
            font-weight: 600;
            color: #1e293b;
        }

        .close {
            color: #64748b;
            font-size: 24px;
            font-weight: bold;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .close:hover {
            color: #1e293b;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #374151;
        }

        .form-input {
            width: 100%;
            padding: 12px;
            border: 1px solid rgba(209, 213, 219, 0.8);
            border-radius: 8px;
            font-size: 14px;
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            color: #1e293b;
            transition: all 0.3s ease;
        }

        .form-input:focus {
            outline: none;
            border-color: rgba(59, 130, 246, 0.5);
            background: rgba(255, 255, 255, 0.9);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .form-input::placeholder {
            color: #9ca3af;
        }

        .modal-actions {
            display: flex;
            gap: 12px;
            justify-content: flex-end;
            margin-top: 24px;
        }

        .hidden {
            display: none;
        }

        /* New styles for Preferences page */
        .rules-list, .templates-list, .automation-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-top: 16px;
        }

        .rule-item, .template-item, .automation-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px;
            background: rgba(255, 255, 255, 0.6);
            border: 1px solid rgba(226, 232, 240, 0.8);
            border-radius: 12px;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .rule-item:hover, .template-item:hover, .automation-item:hover {
            background: rgba(255, 255, 255, 0.8);
            border-color: rgba(59, 130, 246, 0.2);
            transform: translateX(4px);
        }

        .rule-info, .template-info {
            flex: 1;
        }

        .rule-info h4, .template-info h4 {
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 4px;
        }

        .rule-info p, .template-info p {
            color: #64748b;
            font-size: 14px;
        }

        .rule-actions, .template-actions {
            display: flex;
            gap: 8px;
        }

        .switch {
            position: relative;
            display: inline-block;
            width: 40px;
            height: 20px;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(209, 213, 219, 0.8);
            -webkit-transition: .4s;
            transition: .4s;
            border-radius: 20px;
            backdrop-filter: blur(10px);
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 2px;
            bottom: 2px;
            background-color: white;
            -webkit-transition: .4s;
            transition: .4s;
            border-radius: 50%;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        input:checked + .slider {
            background-color: rgba(30, 64, 175, 0.8);
        }

        input:focus + .slider {
            box-shadow: 0 0 1px rgba(30, 64, 175, 0.8);
        }

        input:checked + .slider:before {
            -webkit-transform: translateX(20px);
            -ms-transform: translateX(20px);
            transform: translateX(20px);
        }

        .settings-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 16px;
        }

        .setting-item {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .setting-info h4 {
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 4px;
        }

        .setting-info p {
            color: #64748b;
            font-size: 14px;
        }

        .action-buttons {
            display: flex;
            gap: 24px;
            margin-bottom: 32px;
        }

        .action-btn {
            flex: 1;
            padding: 20px 24px;
            border: none;
            border-radius: 16px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(20px);
            position: relative;
            overflow: hidden;
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .action-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.5s ease;
        }

        .action-btn:hover::before {
            left: 100%;
        }

        .sync-btn {
            background: rgba(30, 64, 175, 0.8) !important;
            color: white !important;
            border: 1px solid rgba(30, 64, 175, 0.3) !important;
            box-shadow: 0 8px 32px rgba(30, 64, 175, 0.2) !important;
            backdrop-filter: blur(20px) !important;
        }

        .sync-btn:hover {
            transform: translateY(-4px) !important;
            box-shadow: 0 12px 40px rgba(30, 64, 175, 0.3) !important;
            background: rgba(30, 64, 175, 0.9) !important;
            border-color: rgba(30, 64, 175, 0.5) !important;
        }

        .manual-btn {
            background: rgba(30, 64, 175, 0.8) !important;
            color: white !important;
            border: 1px solid rgba(30, 64, 175, 0.3) !important;
            box-shadow: 0 8px 32px rgba(30, 64, 175, 0.2) !important;
            backdrop-filter: blur(20px) !important;
        }

        .manual-btn:hover {
            transform: translateY(-4px) !important;
            box-shadow: 0 12px 40px rgba(30, 64, 175, 0.3) !important;
            background: rgba(30, 64, 175, 0.9) !important;
            border-color: rgba(30, 64, 175, 0.5) !important;
        }

        /* 确保按钮样式优先级 */
        .action-btn.sync-btn,
        .action-btn.manual-btn {
            display: flex !important;
            align-items: center !important;
            justify-content: center !important;
            min-height: 80px !important;
            font-size: 16px !important;
            font-weight: 600 !important;
            border-radius: 16px !important;
            transition: all 0.3s ease !important;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo">Neno</div>
                <div class="sidebar-subtitle"></div>
            </div>

            <nav class="nav-section">
                <div class="nav-section-title">Overview</div>
                <div class="nav-item active" onclick="showPage('dashboard')">
                    <div class="nav-icon">
                        <svg viewBox="0 0 24 24">
                            <path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"/>
                        </svg>
                    </div>
                    Dashboard
                </div>
                <div class="nav-item" onclick="showPage('accounts')">
                    <div class="nav-icon">
                        <svg viewBox="0 0 24 24">
                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                        </svg>
                    </div>
                    Accounts
                </div>
                <div class="nav-item" onclick="showPage('transactions')">
                    <div class="nav-icon">
                        <svg viewBox="0 0 24 24">
                            <path d="M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"/>
                        </svg>
                    </div>
                    Transactions
                </div>
                <div class="nav-item" onclick="showPage('invoices')">
                    <div class="nav-icon">
                        <svg viewBox="0 0 24 24">
                            <path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"/>
                        </svg>
                    </div>
                    Invoices
                </div>
            </nav>

            <nav class="nav-section">
                <div class="nav-section-title">Settings</div>
                <div class="nav-item" onclick="showPage('settings')">
                    <div class="nav-icon">
                        <svg viewBox="0 0 24 24">
                            <path d="M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z"/>
                        </svg>
                    </div>
                    Preferences
                </div>
            </nav>

            <nav class="nav-section">
                <div class="nav-section-title">Status</div>
                <div class="status-item">
                    <div class="status-dot"></div>
                    Wise Connected
                </div>
                <div class="status-item">
                    <div class="status-dot"></div>
                    Gmail Synced
                </div>
            </nav>

            <div class="account-info">
                <div class="account-name">John Smith</div>
                <div class="account-email">john@example.com</div>
            </div>
        </aside>

        <main class="main-content">
            <!-- Dashboard -->
            <div id="dashboard" class="page-content">
                <div class="page-header">
                    <h1 class="page-title">Dashboard</h1>
                    <p class="page-subtitle">Your financial overview</p>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-header">
                            <div class="stat-label">Monthly Income</div>
                            <div class="stat-change positive">+12.5%</div>
                        </div>
                        <div class="stat-value">¥45,680</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <div class="stat-label">Monthly Expenses</div>
                            <div class="stat-change negative">+8.2%</div>
                        </div>
                        <div class="stat-value">¥12,450</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <div class="stat-label">Net Income</div>
                            <div class="stat-change positive">+15.3%</div>
                        </div>
                        <div class="stat-value">¥33,230</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <div class="stat-label">Transactions</div>
                            <div class="stat-change positive">+5.1%</div>
                        </div>
                        <div class="stat-value">156</div>
                    </div>
                </div>

                <div class="content-card">
                    <div class="card-header">
                        <h2 class="card-title">Recent Transactions</h2>
                        <button class="btn btn-primary" onclick="showPage('transactions')">View All</button>
                    </div>
                    <div class="transaction-list">
                        <div class="transaction-item">
                            <div class="transaction-info">
                                <h4>Client Payment - ABC Company <span class="category-tag">Service Income</span></h4>
                                <p>Wise Account • 2024-01-15 14:30</p>
                            </div>
                            <div class="transaction-amount income">+¥15,000</div>
                            <span class="status-badge status-categorized">Categorized</span>
                        </div>
                        <div class="transaction-item">
                            <div class="transaction-info">
                                <h4>Office Supplies Purchase <span class="category-tag">Office Expenses</span></h4>
                                <p>Wise Account • 2024-01-15 10:15</p>
                            </div>
                            <div class="transaction-amount expense">-¥350</div>
                            <span class="status-badge status-matched">Invoice Matched</span>
                        </div>
                        <div class="transaction-item">
                            <div class="transaction-info">
                                <h4>Software Subscription <span class="category-tag">Subscription</span></h4>
                                <p>Wise Account • 2024-01-14 09:45</p>
                            </div>
                            <div class="transaction-amount expense">-¥299</div>
                            <span class="status-badge status-pending">Pending Match</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Accounts -->
            <div id="accounts" class="page-content hidden">
                <div class="page-header">
                    <h1 class="page-title">Account Connections</h1>
                    <p class="page-subtitle">Connect your bank accounts and email</p>
                </div>

                <div class="connection-grid">
                    <div class="connection-card">
                        <div class="connection-header">
                            <div class="connection-title">Wise Account</div>
                            <span class="connection-status status-connected">Connected</span>
                        </div>
                        <p style="color: #64748b; margin-bottom: 16px;">Connect your Wise account to automatically sync transaction records</p>
                        <input type="password" class="api-input" placeholder="Wise API Token" value="e0940274-9b28-4025-b599-bfd2d9b1414a">
                        <button class="btn btn-primary" onclick="syncWise()">Sync Transactions</button>
                    </div>

                    <div class="connection-card">
                        <div class="connection-header">
                            <div class="connection-title">Gmail Account</div>
                            <span class="connection-status status-connected">Connected</span>
                        </div>
                        <p style="color: #64748b; margin-bottom: 16px;">Connect Gmail to automatically identify and match invoices</p>
                        <input type="password" class="api-input" placeholder="Gmail Access Token">
                        <button class="btn btn-primary" onclick="syncGmail()">Sync Invoices</button>
                    </div>
                </div>
            </div>

            <!-- Transactions -->
            <div id="transactions" class="page-content hidden">
                <div class="page-header">
                    <h1 class="page-title">Transaction Records</h1>
                    <p class="page-subtitle">View and categorize all transactions</p>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-header">
                            <div class="stat-label">Monthly Transactions</div>
                        </div>
                        <div class="stat-value">156</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <div class="stat-label">Categorized</div>
                        </div>
                        <div class="stat-value">142</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <div class="stat-label">Pending Categorization</div>
                        </div>
                        <div class="stat-value">14</div>
                    </div>
                </div>

                <div class="content-card">
                    <div class="card-header">
                        <h2 class="card-title">All Transactions</h2>
                    </div>
                    <div class="transaction-list">
                        <div class="transaction-item">
                            <div class="transaction-info">
                                <h4>Client Payment - ABC Company <span class="category-tag">Service Income</span></h4>
                                <p>Wise Account • 2024-01-15 14:30 • Auto-categorized</p>
                            </div>
                            <div class="transaction-amount income">+¥15,000</div>
                            <span class="status-badge status-categorized">Categorized</span>
                        </div>
                        <div class="transaction-item">
                            <div class="transaction-info">
                                <h4>Unknown Transaction <span class="category-tag">Pending</span></h4>
                                <p>Wise Account • 2024-01-15 11:20 • Manual categorization needed</p>
                            </div>
                            <div class="transaction-amount expense">-¥120</div>
                            <span class="status-badge status-pending">Pending</span>
                        </div>
                        <div class="transaction-item">
                            <div class="transaction-info">
                                <h4>Office Supplies Purchase <span class="category-tag">Office Expenses</span></h4>
                                <p>Wise Account • 2024-01-15 10:15 • Auto-categorized</p>
                            </div>
                            <div class="transaction-amount expense">-¥350</div>
                            <span class="status-badge status-categorized">Categorized</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Invoices -->
            <div id="invoices" class="page-content hidden">
                <div class="page-header">
                    <h1 class="page-title">Invoice Management</h1>
                    <p class="page-subtitle">Automatically identify and match invoices from emails</p>
                </div>

                <div class="action-buttons">
                    <button class="action-btn sync-btn" onclick="syncGmail()">Sync Gmail</button>
                    <button class="action-btn manual-btn" onclick="openInvoiceModal()">Add Invoice Manually</button>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-header">
                            <div class="stat-label">Matched Invoices</div>
                        </div>
                        <div class="stat-value">8</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <div class="stat-label">Pending Match</div>
                        </div>
                        <div class="stat-value">3</div>
                    </div>
                </div>

                <div class="content-card">
                    <div class="card-header">
                        <h2 class="card-title">Invoice List</h2>
                    </div>
                    <div class="transaction-list">
                        <div class="transaction-item">
                            <div class="transaction-info">
                                <h4>Office Supplies Invoice</h4>
                                <p>From: office@supplier.com • 2024-01-15 • Auto-matched</p>
                            </div>
                            <div class="transaction-amount">¥350</div>
                            <span class="status-badge status-matched">Matched</span>
                        </div>
                        <div class="transaction-item">
                            <div class="transaction-info">
                                <h4>Software Subscription Invoice</h4>
                                <p>From: billing@software.com • 2024-01-14 • Pending match</p>
                            </div>
                            <div class="transaction-amount">¥299</div>
                            <span class="status-badge status-pending">Pending</span>
                        </div>
                        <div class="transaction-item">
                            <div class="transaction-info">
                                <h4>Client Project Invoice</h4>
                                <p>From: client@example.com • 2024-01-13 • Auto-matched</p>
                            </div>
                            <div class="transaction-amount">¥12,000</div>
                            <span class="status-badge status-matched">Matched</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Settings -->
            <div id="settings" class="page-content hidden">
                <div class="page-header">
                    <h1 class="page-title">Preferences</h1>
                    <p class="page-subtitle">Configure your business settings and automation rules</p>
                </div>

                <div class="content-card">
                    <div class="card-header">
                        <h2 class="card-title">Auto-categorization Rules</h2>
                        <button class="btn btn-primary" onclick="addCategoryRule()">Add Rule</button>
                    </div>
                    <div class="rules-list">
                        <div class="rule-item">
                            <div class="rule-info">
                                <h4>Service Income</h4>
                                <p>Keywords: "Client Payment", "Project Income", "Consulting Fee"</p>
                            </div>
                            <div class="rule-actions">
                                <button class="btn btn-secondary" onclick="editRule(this)">Edit</button>
                                <button class="btn btn-secondary" onclick="deleteRule(this)">Delete</button>
                            </div>
                        </div>
                        <div class="rule-item">
                            <div class="rule-info">
                                <h4>Office Expenses</h4>
                                <p>Keywords: "Office Supplies", "Stationery", "Printing"</p>
                            </div>
                            <div class="rule-actions">
                                <button class="btn btn-secondary" onclick="editRule(this)">Edit</button>
                                <button class="btn btn-secondary" onclick="deleteRule(this)">Delete</button>
                            </div>
                        </div>
                        <div class="rule-item">
                            <div class="rule-info">
                                <h4>Software Subscriptions</h4>
                                <p>Keywords: "Subscription", "Membership", "Software"</p>
                            </div>
                            <div class="rule-actions">
                                <button class="btn btn-secondary" onclick="editRule(this)">Edit</button>
                                <button class="btn btn-secondary" onclick="deleteRule(this)">Delete</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="content-card">
                    <div class="card-header">
                        <h2 class="card-title">Contract Templates</h2>
                        <button class="btn btn-primary" onclick="addContractTemplate()">Add Template</button>
                    </div>
                    <div class="templates-list">
                        <div class="template-item">
                            <div class="template-info">
                                <h4>Standard Service Agreement</h4>
                                <p>Default contract for client services</p>
                            </div>
                            <div class="template-actions">
                                <button class="btn btn-secondary" onclick="editTemplate(this)">Edit</button>
                                <button class="btn btn-secondary" onclick="deleteTemplate(this)">Delete</button>
                            </div>
                        </div>
                        <div class="template-item">
                            <div class="template-info">
                                <h4>Consulting Contract</h4>
                                <p>Specialized contract for consulting work</p>
                            </div>
                            <div class="template-actions">
                                <button class="btn btn-secondary" onclick="editTemplate(this)">Edit</button>
                                <button class="btn btn-secondary" onclick="deleteTemplate(this)">Delete</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="content-card">
                    <div class="card-header">
                        <h2 class="card-title">Business Settings</h2>
                    </div>
                    <div class="settings-grid">
                        <div class="setting-item">
                            <div class="setting-info">
                                <h4>Default Currency</h4>
                                <p>Primary currency for transactions</p>
                            </div>
                            <select class="form-input" style="width: auto;">
                                <option value="CNY">Chinese Yuan (CNY)</option>
                                <option value="USD">US Dollar (USD)</option>
                                <option value="EUR">Euro (EUR)</option>
                                <option value="GBP">British Pound (GBP)</option>
                            </select>
                        </div>
                        <div class="setting-item">
                            <div class="setting-info">
                                <h4>Tax Rate</h4>
                                <p>Default tax rate for invoices</p>
                            </div>
                            <input type="number" class="form-input" style="width: auto;" value="13" min="0" max="100" step="0.1">%
                        </div>
                        <div class="setting-item">
                            <div class="setting-info">
                                <h4>Invoice Numbering</h4>
                                <p>Auto-increment invoice numbers</p>
                            </div>
                            <input type="text" class="form-input" style="width: auto;" value="INV-2024-" placeholder="Prefix">
                        </div>
                        <div class="setting-item">
                            <div class="setting-info">
                                <h4>Payment Terms</h4>
                                <p>Default payment terms</p>
                            </div>
                            <select class="form-input" style="width: auto;">
                                <option value="net30">Net 30</option>
                                <option value="net15">Net 15</option>
                                <option value="net7">Net 7</option>
                                <option value="due_on_receipt">Due on Receipt</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="content-card">
                    <div class="card-header">
                        <h2 class="card-title">Automation Rules</h2>
                        <button class="btn btn-primary" onclick="addAutomationRule()">Add Rule</button>
                    </div>
                    <div class="automation-list">
                        <div class="automation-item">
                            <div class="automation-info">
                                <h4>Auto-match Invoices</h4>
                                <p>Automatically match Gmail invoices with transactions</p>
                            </div>
                            <label class="switch">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="automation-item">
                            <div class="automation-info">
                                <h4>Auto-categorize Transactions</h4>
                                <p>Use rules to automatically categorize new transactions</p>
                            </div>
                            <label class="switch">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="automation-item">
                            <div class="automation-info">
                                <h4>Weekly Reports</h4>
                                <p>Send weekly financial reports via email</p>
                            </div>
                            <label class="switch">
                                <input type="checkbox">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Manual Invoice Modal -->
    <div id="invoiceModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Add Invoice Manually</h2>
                <span class="close" onclick="closeInvoiceModal()">&times;</span>
            </div>
            <form id="invoiceForm">
                <div class="form-group">
                    <label class="form-label">Invoice Number</label>
                    <input type="text" class="form-input" id="invoiceNumber" placeholder="Enter invoice number">
                </div>
                <div class="form-group">
                    <label class="form-label">Amount</label>
                    <input type="number" class="form-input" id="invoiceAmount" placeholder="Enter amount">
                </div>
                <div class="form-group">
                    <label class="form-label">Date</label>
                    <input type="date" class="form-input" id="invoiceDate" lang="en">
                </div>
                <div class="form-group">
                    <label class="form-label">Description</label>
                    <input type="text" class="form-input" id="invoiceDescription" placeholder="Enter description">
                </div>
                <div class="form-group">
                    <label class="form-label">Category</label>
                    <select class="form-input" id="invoiceCategory">
                        <option value="">Select category</option>
                        <option value="service-income">Service Income</option>
                        <option value="office-expenses">Office Expenses</option>
                        <option value="subscription">Subscription</option>
                        <option value="travel">Travel</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeInvoiceModal()">Cancel</button>
                    <button type="submit" class="btn btn-primary">Add Invoice</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Page switching
        function showPage(pageName) {
            const pages = document.querySelectorAll('.page-content');
            pages.forEach(page => page.classList.add('hidden'));
            
            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(item => item.classList.remove('active'));
            
            document.getElementById(pageName).classList.remove('hidden');
            event.target.classList.add('active');
        }

        // Wise sync
        function syncWise() {
            const button = event.target;
            button.disabled = true;
            button.textContent = 'Syncing...';
            
            setTimeout(() => {
                button.disabled = false;
                button.textContent = 'Sync Transactions';
                alert('Wise transactions synced successfully! Added 15 new transaction records.');
            }, 2000);
        }

        // Gmail sync
        function syncGmail() {
            const button = event.target;
            button.disabled = true;
            button.textContent = 'Syncing...';
            
            setTimeout(() => {
                button.disabled = false;
                button.textContent = 'Sync Invoices';
                alert('Gmail invoices synced successfully! Identified 3 new invoices.');
            }, 2000);
        }

        // Modal functions
        function openInvoiceModal() {
            document.getElementById('invoiceModal').style.display = 'block';
        }

        function closeInvoiceModal() {
            document.getElementById('invoiceModal').style.display = 'none';
            document.getElementById('invoiceForm').reset();
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('invoiceModal');
            if (event.target == modal) {
                closeInvoiceModal();
            }
        }

        // Handle form submission
        document.getElementById('invoiceForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = {
                number: document.getElementById('invoiceNumber').value,
                amount: document.getElementById('invoiceAmount').value,
                date: document.getElementById('invoiceDate').value,
                description: document.getElementById('invoiceDescription').value,
                category: document.getElementById('invoiceCategory').value
            };
            
            console.log('New invoice:', formData);
            alert('Invoice added successfully!');
            closeInvoiceModal();
        });

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Neno System started');
            console.log('Wise Token:', 'e0940274-9b28-4025-b599-bfd2d9b1414a');
        });

        // Preferences page functions
        function addCategoryRule() {
            const ruleName = prompt('Enter rule name:');
            if (ruleName) {
                const keywords = prompt('Enter keywords (comma separated):');
                if (keywords) {
                    const rulesList = document.querySelector('.rules-list');
                    const newRule = document.createElement('div');
                    newRule.className = 'rule-item';
                    newRule.innerHTML = `
                        <div class="rule-info">
                            <h4>${ruleName}</h4>
                            <p>Keywords: "${keywords}"</p>
                        </div>
                        <div class="rule-actions">
                            <button class="btn btn-secondary" onclick="editRule(this)">Edit</button>
                            <button class="btn btn-secondary" onclick="deleteRule(this)">Delete</button>
                        </div>
                    `;
                    rulesList.appendChild(newRule);
                }
            }
        }

        function editRule(button) {
            const ruleItem = button.closest('.rule-item');
            const ruleName = ruleItem.querySelector('h4').textContent;
            const keywords = ruleItem.querySelector('p').textContent.replace('Keywords: ', '').replace(/"/g, '');
            
            const newName = prompt('Edit rule name:', ruleName);
            if (newName) {
                const newKeywords = prompt('Edit keywords (comma separated):', keywords);
                if (newKeywords) {
                    ruleItem.querySelector('h4').textContent = newName;
                    ruleItem.querySelector('p').textContent = `Keywords: "${newKeywords}"`;
                }
            }
        }

        function deleteRule(button) {
            if (confirm('Are you sure you want to delete this rule?')) {
                button.closest('.rule-item').remove();
            }
        }

        function addContractTemplate() {
            const templateName = prompt('Enter template name:');
            if (templateName) {
                const description = prompt('Enter template description:');
                if (description) {
                    const templatesList = document.querySelector('.templates-list');
                    const newTemplate = document.createElement('div');
                    newTemplate.className = 'template-item';
                    newTemplate.innerHTML = `
                        <div class="template-info">
                            <h4>${templateName}</h4>
                            <p>${description}</p>
                        </div>
                        <div class="template-actions">
                            <button class="btn btn-secondary" onclick="editTemplate(this)">Edit</button>
                            <button class="btn btn-secondary" onclick="deleteTemplate(this)">Delete</button>
                        </div>
                    `;
                    templatesList.appendChild(newTemplate);
                }
            }
        }

        function editTemplate(button) {
            const templateItem = button.closest('.template-item');
            const templateName = templateItem.querySelector('h4').textContent;
            const description = templateItem.querySelector('p').textContent;
            
            const newName = prompt('Edit template name:', templateName);
            if (newName) {
                const newDescription = prompt('Edit template description:', description);
                if (newDescription) {
                    templateItem.querySelector('h4').textContent = newName;
                    templateItem.querySelector('p').textContent = newDescription;
                }
            }
        }

        function deleteTemplate(button) {
            if (confirm('Are you sure you want to delete this template?')) {
                button.closest('.template-item').remove();
            }
        }

        function addAutomationRule() {
            const ruleName = prompt('Enter automation rule name:');
            if (ruleName) {
                const description = prompt('Enter rule description:');
                if (description) {
                    const automationList = document.querySelector('.automation-list');
                    const newRule = document.createElement('div');
                    newRule.className = 'automation-item';
                    newRule.innerHTML = `
                        <div class="automation-info">
                            <h4>${ruleName}</h4>
                            <p>${description}</p>
                        </div>
                        <label class="switch">
                            <input type="checkbox">
                            <span class="slider"></span>
                        </label>
                    `;
                    automationList.appendChild(newRule);
                }
            }
        }
    </script>
</body>
</html> 